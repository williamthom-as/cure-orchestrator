<template>
  <table class="table table-overflow">
    <thead>
      <tr>
        <th>Name</th>
        <th>Created</th>
        <th>Status</th>
        <th>Run Count</th>
        <th>Error Count</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr repeat.for="job of jobs" if.bind="jobs">
        <td>
          <div>
            <a route-href="route: show-job; params.bind: { id: job.id }">
              ${job.name ? job.name : 'unknown'}
            </a>
          </div>
          <span class="text-small text-secondary">
            ${job.job_args.template_file}
          </span>
        </td>
        <td>
          <div>
            ${job.created_at | timeAgo }
          </div>
          <span class="text-small text-secondary">
            ${job.updated_at}
          </span>
        </td>
        <td>${job.status}</td>
        <td>${job.job_runs.length}</td>
        <td>${job.error_count}</td>
        <td></td>
      </tr>
      <tr if.bind="!jobs">
        <td colspan="4">
          You do not have any jobs!
        </td>
      </tr>
    </tbody>
  </table>
</template>