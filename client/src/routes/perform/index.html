<template>
  <div class="page-header">
    <div class="title">
      Perform
    </div>
    <div class="actions">
      <a href="https://github.com/williamthom-as/cure/tree/main/docs" target="_blank">
        Help <i class="fas fa-question-circle" aria-hidden="true"></i>
      </a>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <panel
        show-header.bind="true"
      >
        <div slot="header">
          <div class="title">Run</div>
        </div>
        <div slot="body">
          <header class="wizard-header">
            <div
                class="step ${activeStep == $index ? 'active' : ''}"
                click.trigger="activeStep = $index"
                repeat.for="step of steps"
            >
              <div class="number">
                ${$index + 1}
              </div>
              <div class="title">
                ${step.title}
              </div>
            </div>
          </header>
          <div class="wizard-content">
            <validatable-select
                value.bind="model.template_file"
                label="Template File"
                option-key="path"
                option-value="name"
                values.bind="templates">
            </validatable-select>
          </div>
        </div>
      </panel>
    </div>
    <div class="col">
      <panel
          show-header.bind="true"
      >
        <div slot="header">
          <div class="title">${steps[activeStep].title}</div>
        </div>
        <div slot="body">
           <pre if.bind="template">
             <code>${template}</code>
           </pre>
        </div>
      </panel>
    </div>
  </div>
</template>