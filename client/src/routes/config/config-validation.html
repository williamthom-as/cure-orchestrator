<template>
  <panel
      if.bind="result"
      show-header.bind="true"
      action-one-function.call="reload()"
      action-one-icon="fa-circle-notch"
  >
    <div slot="header">
      <div class="title">Config Validation</div>
    </div>
    <div slot="body">
      <spinner if.bind="isProcessing"></spinner>
      <table if.bind="!isProcessing" class="table">
        <thead>
          <tr>
            <th style="width: 2rem;"></th>
            <th>Property</th>
            <th>Message</th>
          </tr>
        </thead>
        <tbody>
          <tr repeat.for="key of result.checks | objectKeys" class="${result.checks[key].valid ? '' : 'text-danger'}">
            <td>
              <i class="fa fa-check text-green" if.bind="result.checks[key].valid"></i>
              <i class="fa fa-times text-danger" else></i>
            </td>
            <td class="text-truncate">${key}</td>
            <td class="text-truncate"> ${result.checks[key].message}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </panel>
</template>