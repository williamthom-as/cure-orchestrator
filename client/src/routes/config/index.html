<template>
  <require from="./viewer"></require>
  <require from="./form"></require>
  <require from="./config-validation"></require>
  <div class="page-header">
    <div class="title">
      Configuration
    </div>
    <div class="actions">
      <a href="https://github.com/williamthom-as/cure/tree/main/docs" target="_blank">
        Help <i class="fas fa-question-circle" aria-hidden="true"></i>
      </a>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <div if.bind="!configFile" class="alert error">
        <strong>${message}.</strong>&nbsp;
      </div>
      <div else>
        <config-validation></config-validation>
      </div>
    </div>
  </div>
  <div class="row" if.bind="configFile">
    <div class="col">
      <panel show-header.bind="true">
        <div slot="header">
          <div class="title">Update Configuration</div>
        </div>
        <div slot="body">
          <form if.bind="configFile" model.bind="configFile"></form>
        </div>
      </panel>
    </div>
    <div class="col">
      <panel show-header.bind="true">
        <div slot="header">
          <div class="title">Viewer</div>
        </div>
        <div slot="body">
          <viewer if.bind="configFile" watch.bind="configFile"></viewer>
        </div>
      </panel>
    </div>
  </div>
</template>